import echarts from 'echarts'
export default {
    initdcbar(params) {
        var myChart = echarts.init(document.getElementById(params.domId));
        var category = params.data;
        var total = 100; // 数据总数
        var datas = [];
        var totalData = []
        category.forEach(value => {
            datas.push(value.value);
            totalData.push(total)
        });
        var option = {
            xAxis: {
                max: total,
                splitLine: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                axisLabel: {
                    show: false
                },
                axisTick: {
                    show: false
                },
            },
            grid: {
                left: "100",
                top: "10",
                right: "80",
                bottom: "10",
                containLabel: true
            },
            yAxis: [{
                type: "category",
                inverse: false,
                data: category,
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    show: false
                },
            }],
            series: [{
                    // 内
                    type: "bar",
                    barWidth: 20,
                    silent: true,
                    itemStyle: {
                        normal: {
                            color: "#2ef97f"
                        }
                    },
                    label: {
                        normal: {
                            formatter: "{b}",
                            textStyle: {
                                color: "#fff",
                                fontSize: 18
                            },
                            position: 'left',
                            distance: 10, // 向右偏移位置
                            show: true
                        }
                    },
                    data: category,
                    z: 1,
                },

                {
                    // 分隔
                    type: "pictorialBar",
                    itemStyle: {
                        normal: {
                            color: "#07314a"
                        }
                    },
                    symbolRepeat: "fixed",
                    symbolMargin: 2,
                    symbol: "rect",
                    symbolClip: true,
                    symbolSize: [3, 20],
                    symbolPosition: "start",
                    symbolOffset: [3, -2],
                    symbolBoundingData: this.total,
                    data: totalData,
                    z: 2,
                    animationEasing: "elasticOut",


                },
                {
                    // label
                    type: "pictorialBar",
                    symbolBoundingData: total,
                    itemStyle: {
                        normal: {
                            color: "none"
                        }
                    },
                    label: {
                        normal: {
                            formatter: (params) => {
                                var text;
                                text = '{f| ' + params.data + '%}';
                                return text;
                            },
                            rich: {
                                f: {
                                    color: "#ffffff",
                                    fontSize: 18,
                                }
                            },
                            position: 'right',
                            distance: 10, // 向右偏移位置
                            show: true
                        }
                    },
                    data: datas,
                    z: 0,

                },

                {
                    name: "外框",
                    type: "bar",
                    barGap: "-130%", // 设置外框粗细
                    data: totalData,
                    barWidth: 30,
                    itemStyle: {
                        normal: {
                            barBorderRadius: [5, 5, 5, 5],
                            color: "transparent", // 填充色
                            barBorderColor: "#1588D1", // 边框色
                            barBorderWidth: 2, // 边框宽度
                        }
                    },
                    z: 0
                },
                {
                    type: 'scatter',
                    name: '条形',
                    symbol: 'roundRect',
                    symbolSize: [7, 20],
                    symbolOffset: [3, -5],
                    symbolKeepAspect: true,
                    itemStyle: {
                        normal: {
                            color: "#1588D1"
                        }
                    },
                    data: totalData,
                }

            ]
        }
        myChart.setOption(option, true)

    },
    initline2(params) {
        var myChart = echarts.init(document.getElementById(params.domId));
        var fontColor = '#30eee9';
        var option = {
            grid: {
                left: '10',
                right: '20',
                top: '30',
                bottom: '10',
                containLabel: true
            },
            tooltip: {
                trigger: "axis",
                axisPointer: {
                    type: "shadow",
                    label: {
                        show: true
                    }
                }
            },
            legend: {
                show: true,
                textStyle: {
                    color: '#fff',
                    fontSize: 14
                },
                data: ['4G', '5G']
            },
            xAxis: [{
                type: 'category',
                boundaryGap: true,
                axisLabel: {
                    color: '#fff',
                    rotate: 30
                },

                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#397cbc'
                    }
                },
                axisTick: {
                    show: true,
                },
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: '#195384'
                    }
                },
                data: params.xAxis
            }],
            yAxis: [{
                type: 'value',
                axisLabel: {
                    formatter: '{value}',
                    textStyle: {
                        color: '#fff'
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#27b4c2'
                    }
                },
                axisTick: {
                    show: false,
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: '#11366e'
                    }
                }
            }],
            series: [{
                    name: '4G',
                    type: 'line',
                    symbol: 'circle',
                    symbolSize: 5,
                    itemStyle: {
                        normal: {
                            color: '#0092f6',
                            lineStyle: {
                                color: "#0092f6",
                                width: 1
                            },
                            areaStyle: {
                                color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                    offset: 0,
                                    color: 'rgba(7,44,90,0.3)'
                                }, {
                                    offset: 1,
                                    color: 'rgba(0,146,246,0.9)'
                                }]),
                            }
                        }
                    },
                    markPoint: {
                        itemStyle: {
                            normal: {
                                color: 'red'
                            }
                        }
                    },
                    data: params.data4g
                },
                {
                    name: '5G',
                    type: 'line',
                    symbol: 'circle',
                    symbolSize: 5,

                    itemStyle: {
                        normal: {
                            color: '#00d4c7',
                            lineStyle: {
                                color: "#00d4c7",
                                width: 1
                            },
                            areaStyle: {
                                //color: '#94C9EC'
                                color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                    offset: 0,
                                    color: 'rgba(7,44,90,0.3)'
                                }, {
                                    offset: 1,
                                    color: 'rgba(0,212,199,0.9)'
                                }]),
                            }
                        }
                    },
                    data: params.data5g
                }
            ]
        };
        myChart.setOption(option, true)
    },
    initEchart_sckbar(params) {
        var echart = echarts.init(document.getElementById(params.domId))
        var data = {
            area: params.xData,
            legend: params.legend,
            data: params.data,
            sumtotal: params.sumtotal,
        }
        var colors = ['#5470c6', '#73c0de', '#fac858', '#ee6666', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc']
        var option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            color: colors,
            legend: {
                textStyle: {
                    fontSize: 13,
                    color: '#fff',
                    padding: [3, 0, 0, 0]
                },
                data: data.legend
            },
            grid: {
                left: '10',
                right: '10',
                bottom: '10',
                top: '40',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: "#fff", //X轴文字颜色
                        fontSize: 13
                    },
                    margin: 10,
                    interval: 0,
                    rotate: params.rotate || 0
                },
                axisLine: {
                    lineStyle: {
                        color: '#96A4F4'
                    },

                },
                axisTick: {
                    show: false,
                },
                data: data.area
            },
            yAxis: {
                splitNumber: 4,
                type: 'value',
                axisLabel: {
                    color: '#fff'
                },
                axisLine: {
                    lineStyle: {
                        color: '#96A4F4'
                    },

                },
                axisTick: {
                    show: false,
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(150, 164, 244, 0.3)'
                    }
                },
            },
            series: [

            ]
        };
        for (var i = 0; i < data.legend.length; i++) {
            option.series.push({
                name: data.legend[i],
                type: 'bar',
                stack: '总量',
                barMaxWidth: '15',
                label: {
                    show: false,
                    position: 'top'
                },
                data: data.data[i]
            })
        };

        var totalItem = {
            name: '总量',
            type: 'bar',
            barGap: '-100%',
            barMaxWidth: '15',
            itemStyle: {
                color: 'transparent',
            },
            label: {
                show: true,
                color: '#fff',
                fontSize: 14,
                position: 'top'
            },
            z: -1,
            data: data.sumtotal || ''
        };
        if (data.sumtotal && data.sumtotal.length > 0) {
            option.series.unshift(totalItem)
        }

        echart.setOption(option, true);

    },
}