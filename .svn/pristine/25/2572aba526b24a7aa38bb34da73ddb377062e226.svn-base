<template>
  <v-content>
    <v-container fluid fill-height class="container">
      <iframe ref="iframe" :src="iframeSrc" frameborder="0">
      </iframe>
    </v-container>
  </v-content>
</template>
<script>
export default {
  mounted() {
    const mapFrame = this.$refs.iframe;
    const iframeWin = mapFrame.contentWindow;
    if (mapFrame.attachEvent) {
      // eslint-disable-next-line
      mapFrame.attachEvent('onload', function() {
        iframeWin.postMessage(
          {　　　　　　　　//定义接收方法，方便精准接收
            iframeClick: 'getParams',
            params: {　　　　　　　　　//传递的值
              key: localStorage.getItem('token', this.token),
            },
          },
          '*',
        );
      });
    } else {
      // eslint-disable-next-line
      mapFrame.onload = function() {
        iframeWin.postMessage(
          {
            iframeClick: 'getParams',
            params: {
              key: localStorage.getItem('token', this.token),
            },
          },
          '*',
        );
      };
    }

  },

};
</script>