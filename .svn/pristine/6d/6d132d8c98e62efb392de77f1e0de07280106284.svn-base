<template>
  <div style="position: absolute;height: 92%;width: 100%;overflow: auto">
    <el-table
      :data="popList"
      style="width: 100%"
    >

      <el-table-column
        prop="eparchyName"
        label="地区"

      >
        <template slot-scope="scope">
          <span v-if="userInfo.eparchyCode === '0000'">
            <span v-if="scope.row.eparchyCode === '0000'">
                {{ scope.row.areaCode ==='00' ? scope.row.eparchyName : scope.row.areaName}}
            </span>
            <a @click="clickRow(scope.row)" style="cursor:pointer" v-else>
              {{ scope.row.areaCode ==='00' ? scope.row.eparchyName : scope.row.areaName}}
            </a>
          </span>
          <span v-else>
            <span v-if="scope.row.eparchyCode !== userInfo.eparchyCode">
                {{ scope.row.areaCode ==='00' ? scope.row.eparchyName : scope.row.areaName}}
            </span>
            <a @click="clickRow(scope.row)" style="cursor:pointer" v-else>
              {{ scope.row.areaCode ==='00' ? scope.row.eparchyName : scope.row.areaName}}
            </a>
          </span>
          <!-- <a v-if="scope.row.areaCode ==='00'" style="cursor:pointer" @click="clickRow(scope.row)">{{scope.row.eparchyName}}</a>
          <a v-if="scope.row.areaCode !=='00'"
             style="cursor:pointer" @click="clickRow(scope.row)">{{scope.row.areaName}}</a>
          <a v-if="scope.row.areaCode !=='00'&&scope.row.gridId !=='00'"
             style="cursor:pointer" @click="clickRow(scope.row)">{{scope.row.gridName}}</a> -->
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekCnt"
        label="移网新发展"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" v-if="scope.row.newWeekCnt">{{scope.row.newWeekCnt}}</span>
          <span class="titleSpan1" v-else-if="!scope.row.newWeekCnt">--</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekSw "
        label="新发展三无"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeekSw}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekSwYcz "
        label="三无用户首月出账"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeekSwYcz }}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekSwWcz"
        label="三无用户首月未出账"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeekSwWcz}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekSwRate"
        label="三无用户占比"
        sortable
      >
<!--        <template slot-scope="scope">-->
<!--          <span class="titleSpan1" >{{scope.row.newWeekSwRate}}%</span>-->
<!--        </template>-->
        <template slot-scope="scope">
                      <span class="titleSpan1" v-if="scope.row.newWeekSwRate_status == 1" style="color: #00B050 !important">
                          {{scope.row.newWeekSwRate}}%
                      </span>
          <span class="titleSpan1" v-else-if="scope.row.newWeekSwRate_status == 2" style="color: #C00000 !important">
                                    {{scope.row.newWeekSwRate}}%
                                </span>
          <span class="titleSpan1" v-else>{{scope.row.newWeekSwRate || '-'}}%</span>
        </template>
      </el-table-column>
    </el-table>

  </div>

</template>

<script>
import store from 'store'
export default {
  props:{
    rightList:Array
  },
  name: 'singleTable',
  data(){
    return{
      dialogTableVisible:false,
      popList:[
      ],
      title:'',
      finishCity:[
      ],
      rowData:{},
      dataType:'',
      isGrad:false,
      bottomList:[
        {
          name: '新发展用户套餐分档',
          url: '/mass/index',

        }, {
          name: '新发展用户三无',
          url: '/mass/massAdvanceDeposit',
        }, {
          name: '存量用户三无',
          url: '/mass/newmass',
          active:true
        },{
          name: '新发展用户首次预存',
          url: '/bigscreen/evaluateNewUser',
        }, {
          name: '新发展8元卡',
          url: '/bigscreen/evaluateNew8Card',
        }, {
          name: '单宽转融活跃度',
          url: '/bigscreen/evaluateActivity',
        }],
        userInfo: []
    }
  },
  watch:{
    rightList(){
      this.popList = [];
      this.popList = this.rightList
      // this.popList.forEach(obj => {
      //   obj.newWeekCnt = parseInt(obj.newWeekCnt)
      //   obj.newWeekSw = parseInt(obj.newWeekSw)
      //   obj.newWeekSwYcz = parseInt(obj.newWeekSwYcz)
      //   obj.newWeekSwWczRate = parseInt(obj.newWeekSwWczRate)
      //   obj.newWeekSwRate = parseInt(obj.newWeekSwRate)
      //   if (obj.areaCode !== '00'){
      //     this.isGrad = true
      //   }else {
      //     this.isGrad = false
      //   }
      // })
    }
  },
  mounted(){
    this.userInfo = store.get('userInfo');
  },
  methods:{
    handle(row,event,column){
      this.dialogTableVisible = true
    },
    goto(row,event,column){
      //alert(123)
    },
    clickRow(row){
      if(row.eparchyName !== "全省"){
        this.$router.push(
          {
            path:'/mass/mass-Quality',
            query: {
              rowData:row
            }
          }
        )
      }

    }
  }
}
</script>

<style scoped>
/deep/ .el-table--border th {
  border-bottom: none;
}
/deep/ .el-table--group,
.el-table--border {
  border: none;
  border-right: none !important;
}
/deep/ .el-table--border th,
.el-table--border td {
  border-right: none !important;
}
/deep/ .el-table{
  background: none !important;
  font-size: 18px !important;
  font-family: Microsoft YaHei !important;
  font-weight: 400 !important;
}
/deep/.el-table th{
        padding: 5px 0;
        background: url("~@/assets/images/bigScreen/fullService/597bcdc505fa3.png") 50% 18px no-repeat;
        text-align: center;
        color: #02F6FF !important;
        font-size: 12px;
}
/deep/ .el-table tr{
  background: none !important;
}
/deep/.el-table td{
  padding: 9px 0;
  background: none !important;
  border: none !important;
  text-align: center !important;
  color: #FFFFFF;
  border-right: 0.5px solid #0A3D75 !important;
}
/deep/ .el-table th.is-leaf, .el-table td{
  border: none !important;
  color: #FFFFFF ;
}
/deep/.el-table::before{
  height: 0 !important;
}
/deep/.el-table th > .cell{
  display: contents !important;
}
/deep/.el-dialog{
  width: 66%;
  background:transparent;
  background-image:url("../../assets/images/bigScreen/kuang.png");
  background-size: 100% 100%;
  /*background-repeat:no-repeat ;*/
  /*background-size: cover;*/
  min-height:550px
}
/deep/.el-icon-close:before{

  content: none !important;
}
/deep/.el-dialog__headerbtn .el-dialog__close{
  width: 35px;
  height: 35px;
  background-image: url("../../assets/images/bigScreen/close.png");
  background-repeat:no-repeat ;
  margin: 14px 30px;

}
/deep/.el-dialog__title{
  color: #02F6FF;
  font-size: 24px;
  width: 555px;
  font-size: 24px;
  font-family: PangMenZhengDao-3;
  font-weight: 400;
  background-image: url("../../assets/images/bigScreen/fullService/biaoti.png");
  background-position: right;
  background-repeat: no-repeat;
  margin-left: 30px;
  display: block;
}
.titleSpan1{
  color: #FDFEFF;
  font-size: 14px;
  cursor: pointer;
  font-family: 'DigifaceWide';
  src: url('../../assets/fonts/digifaw.ttf');
  display: block;
}
/deep/.el-dialog__title{
  position: relative;
  top: 18px;
}
</style>