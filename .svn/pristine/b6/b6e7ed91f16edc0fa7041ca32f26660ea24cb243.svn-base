<template>
    <div class="contentbox">
        <div class="contentbody">
            <iframe class="aqifrme" :src="gmeciframessyzb" frameborder="0" v-show="showssyzb"></iframe>
            <iframe class="aqifrme" :src="gmeciframewlddzx" frameborder="0" v-show="showwlddzx"></iframe>
            <iframe class="aqifrme" :src="gmeciframewlzhzx" frameborder="0" v-show="showwlzhzx"></iframe>
        </div>
    </div>
</template>
 
<script>
import axios from 'axios'
    export default {
        data() {
            return {
                // gmeciframessyzb: null,
                // gmeciframewlddzx: null,
                // gmeciframewlzhzx: null,
                gmeciframessyzb: 'http://o.zj186.com:8080/dashboard/28f21c7957d35ebdd28d6d27218a190a',
                gmeciframewlddzx: 'http://132.151.160.18:7021/#/home/bigScreenChoose?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXNzd29yZCI6IjIwMjU1MzY0MDciLCJ1c2VybmFtZSI6ImVzbm9wIn0.LD-GU2gtKZ6scDb7HlAADzBruVuPIa6BmcPprb3r6WM&page=netDispatchCenterNew',
                gmeciframewlzhzx: 'http://132.151.160.18:7021/#/home/bigScreenChoose?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXNzd29yZCI6IjIwMjU1MzY0MDciLCJ1c2VybmFtZSI6ImVzbm9wIn0.LD-GU2gtKZ6scDb7HlAADzBruVuPIa6BmcPprb3r6WM&page=netCommandCenter',
                showssyzb: false,
                showwlddzx: false,
                showwlzhzx: false
            }
        },
        mounted () {
            // this.getToken()
            this.iframeshow()
        },
        methods: {
            // async getToken(){
            //    var tokenqingqiu={
            //         "uid":"lijn194public",
            //         "pwd":"ax8tO;SkXCPOCo&d",
            //         "code":"Qwer1234",
            //         "test":"test",
            //         "subSystem":"CS" 
            //     }
            //     const resulttoken = await axios({
            //         url:'/iopsm/api/auth/tokens',
            //         method:'post', 
            //         data:JSON.parse(JSON.stringify(tokenqingqiu))
            //     })
            //     var gmectoken=resulttoken.data.data.token;
            //     var gmecuser=JSON.parse(JSON.stringify(resulttoken.data.data.user));
            //     this.gmeciframessyzb = `http://10.186.0.122:8131/#/PnViewDemo?token=${gmectoken}&userInfo=${JSON.stringify(gmecuser)}`;
            //     this.gmeciframewlddzx = `http://10.186.0.122:8136/?token=${gmectoken}`;
            //     // this.gmeciframewlzhzx = 'https://123.6.50.8:10443';//先保留
            //     // 切片能力开放不需要token     MEC下的第四个菜单    北京暂时进不去，先放着
            //     this.gmeciframewlzhzx = 'http://10.186.0.175:21001/csmf/#/csmf/slicev2/home?isShow=true';
            // },
            iframeshow(){
                if(this.$route.params.zdbz_iframe=='ssyzb'){
                    this.showssyzb=true
                    this.showwlddzx=false
                    this.showwlzhzx=false
                }else if(this.$route.params.zdbz_iframe=='wlddzx'){
                    this.showssyzb=false
                    this.showwlddzx=true
                    this.showwlzhzx=false
                }else if(this.$route.params.zdbz_iframe=='wlzhzx'){
                    this.showssyzb=false
                    this.showwlddzx=false
                    this.showwlzhzx=true
                }
            }
        }
    }
</script>

<style lang="scss" scoped>
    .contentbody {
        flex: 1;
        padding: 10px;
        box-sizing: border-box;
        // margin-top: -100px;// 解决顶部不全
        margin-top: -10px;// 解决顶部不全
        position: relative;
        height:100%;
    }
    .aqifrme {
        width: 100%;
        height:100%;
        border: none;
        // overflow-y: auto;
        overflow-y:visible;
        // 解决顶部不全
        // margin-top: 10px;
    }
</style>