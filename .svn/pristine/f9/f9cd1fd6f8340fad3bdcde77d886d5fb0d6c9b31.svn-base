<!--  -->
<template>
  <div class="contentbox">
    <Header title="山东联通网络智慧眼-沿黄战略" ></Header>
    <div class="contentbody" >
        <div class="leftbox flex colflex" style="position: relative;">
          <div class="flex1" v-show="mapLevel == '0'">
              <div class="t_titlebox">
                    <div class="t_title">黄河简介</div>
                   <div><img src="@/assets/sdtborder.png" alt="" srcset=""  style="width: 100%;"></div>
              </div>
              <div  class="videobox" style="margin-top: 10px;">
                 <video width="100%" height="100%"  controls muted="true" preload="auto" autoplay="true"  loop id = "videoBox">
                  <source src= "./img/huanghe.mp4"  type="video/mp4">
                    您的浏览器不支持 HTML5 video 标签。
                </video>
              </div>
              <dv-decoration-6 style="width:80%;height:18px; margin: 20px auto" />
              <div class="infobox" style="height: auto">
                <dv-border-box-12 class="infoncent">
                  <div class="row_d">
                    黄河，中国第二长河，全长约5464公里。根据水利部网站《黄河网》，流域总面积79.5万平方公里（含内流区面积4.2万平方公里）。 黄河发源于青藏高原巴颜喀拉山北麓的约古宗列盆地，自西向东分别流经青海、四川、甘肃、宁夏、内蒙古、陕西、山西、河南及山东9个省（自治区），最后流入渤海。
                  </div>
                </dv-border-box-12>
              </div>
          </div>
          <div class="flex1" v-show="mapLevel >= '1'">
             <div class="menuparent menuparent_yun menuparent_wlnl"  style="position:absolute;left:50%;top:180px; transform: translateX(-50%)">                
                 <a href="#wheel" class="wheel-button"><span>
                 <img src="./img/cd_wlnl.png" class="bg_sd_piao" ></span></a>            
                 <ul id="wheel" class="menuitem" data-angle="[-20,340]">                  
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/network_wireless?pagesource=yhzl" ><img src="./img/cd2_yw.png" style="width:100px;"></a>
                     </li>
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/broadband?pagesource=yhzl" ><img src="./img/cd2_kd.png" style="width:100px;"></a>
                     </li>
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/network_loadbear?pagesource=yhzl" ><img src="./img/cd2_cz.png" style="width:100px;"></a>
                     </li>
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/cloud_idc?pagesource=yhzl" ><img src="./img/cd2_idc.png" style="width:100px;"></a>
                     </li>
                 </ul>
             </div>
              <div class="menuparent menuparent_yun"  style="position:absolute;left:50%;top: 550px; transform: translateX(-50%);">
                <a href="/#/unicomwisdomeyes/zhengqi_jfbz?pagesource=yhzl" class="wheel-button"><span>
                <img src="./img/cd_gdjf.png" class="bg_sd_piao" ></span></a>            
                <ul id="wheel" class="menuitem" data-angle="[-20,340]">                  
                </ul>
            </div>
          </div>
        </div>
        <div class="centerbox flex colflex" style="padding-top: 60px">
           <div v-show="mapLevel  >= '1'" class="center_title" @click="isDialogShow = true">山东省发展战略简介</div>
           
           <iframe  ref="gisiframe" id="gisiframe" :src="iframeSrc"  style="widh: 100%; height: 100%" frameborder="0"></iframe>
           <!-- <div class="cent_bodybox" style="width: 100%; height: 100%;padding: 0px;" v-show="mapLevel  == '0'" >
               <img src="../home/img/bg_sd51.png" style="width: 100%; height: 100%"  @click="mapLevel = '1'"> 
           </div>
            <div  class="cent_bodybox" style="width: 100%; height: 100%" v-show="mapLevel  == '1'">
               <div class="center_title" @click="isDialogShow = true">山东省发展战略简介</div>
               <img src="../home/img/bg_sd52.png"  style="width: 100%; height: 100%"    @click="mapLevel = '0'">
            </div>  -->
        </div>
        <div class="rightbox flex colflex" style="position: relative;">
          <div class="flex1"  v-show="mapLevel == '0'">
              <div class="t_titlebox">
                   <div class="t_title">国家发展战略</div>
                   <div><img src="@/assets/sdtborder.png" alt="" srcset="" style="width: 100%;"></div>
              </div>

              <div  class="videobox" style="margin-top: 10px; height:220px;">
                 <el-carousel trigger="click"  style="height:220px;">
                    <el-carousel-item >
                       <img src="./img/xh3.jpg" style="width: 100%; " alt="">
                    </el-carousel-item>
                    <el-carousel-item >
                       <img src="./img/xh2.jpg" style="width: 100%; " alt="">
                    </el-carousel-item>
                    <el-carousel-item >
                       <img src="./img/xh5.jpg"  style="width: 100%;" alt="">
                    </el-carousel-item>
                  </el-carousel>
              </div>
               <dv-decoration-6 style="width:80%;height:18px; margin: 20px auto" />
              <div class="infobox" style="height: auto">
                <dv-border-box-12 class="infoncent infoncentright">
                  
                  <div class="row_d">
                     10月20日至22日，习近平总书记来到山东省东营市，考察黄河入海口，并在济南市主持召开深入推动黄河流域生态保护和高质量发展座谈会。
                  </div>
                   <div class="row_d">
                     “这些年，我多次到沿黄河省区考察，对新形势下解决好黄河流域生态和发展面临的问题，进行了一些调研和思考。继长江经济带发展战略之后，我们提出黄河流域生态保护和高质量发展战略，国家的‘江河战略’就确立起来了。”
                  </div>
                   <div class="row_d">
                      他强调，长江、黄河两条母亲河养育了中华民族，孕育了中华民族的民族精神。中华民族世世代代在长江、黄河流域繁衍发展，一直走到今天。新时代，我们要把保护治理母亲河这篇文章继续做好。
                  </div>
                   <div class="row_d">
                      从中游郑州到下游济南，从“黄河流域生态保护和高质量发展座谈会”到“深入推动黄河流域生态保护和高质量发展座谈会”，大河奔涌，奏响了新时代的澎湃乐章。
                  </div>
                </dv-border-box-12>
              </div>
          </div>
           <div class="flex1" v-show="mapLevel >= '1'" >
            <div class="menuparent menuparent_yun  menuparent_wlnl"  style="position:absolute;left: 50%;top: 180px;transform: translateX(-50%);">
                <a href="#wheel" class="wheel-button"><span>
                <img src="./img/cd_zqbz.png" class="bg_sd_piao" ></span></a>            
                <ul id="wheel" class="menuitem" data-angle="[-20,340]">                  
                    <li class="item"  >
                        <a  href="/#/unicomwisdomeyes/jsc_kdfn?pagesource=yhzl" ><img src="./img/cd2_zhyx.png" style="width:100px;"></a>
                    </li>
                    <li class="item" >
                        <a  href="/#/unicomwisdomeyes/broadband_zhxn?pagesource=yhzl" ><img src="./img/cd2_zhxn.png" style="width:100px;"></a>
                    </li>
                  
                </ul>
            </div>
             <div class="menuparent menuparent_yun menuparent_wlnl "  style="position:absolute;left:50%;top:550px; transform: translateX(-50%)">
                 <a href="#wheel" class="wheel-button"><span>
                 <img src="./img/cd_yjtx.png" class="bg_sd_piao" ></span></a>            
                 <ul id="wheel" class="menuitem" data-angle="[-20,340]">                  
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/emergencies_power?pagesource=yhzl" ><img src="./img/cd2_yjnl.png" style="width:100px;"></a>
                     </li>
                     <li class="item"  >
                         <a  href="/#/unicomwisdomeyes/emergencies_safeguard?pagesource=yhzl" ><img src="./img/cd2_bzhd.png" style="width:100px;"></a>
                     </li>
                    
                 </ul>
             </div>
         
          </div>
        </div>
     </div>



      <el-dialog :visible.sync="isDialogShow" width="60%" :modal-append-to-body="false">
        <div class="dialogCon">
          <div class="dialogTitle">
            <div class="left">山东省发展战略简介</div>
          </div>
          <div class="dialogTableBg" style="min-height: 660px; padding:  20px 0">
            <div class="diarow flex">
              <div class="diaimgbox"  style=" width: 450px;">
                 <el-carousel trigger="click" >
                    <el-carousel-item >
                       <img src="./img/sd_hh1.jpg" style="width: 100%; height: 100%" alt="">
                    </el-carousel-item>
                    <el-carousel-item >
                       <img src="./img/sd_hh2.jpg" style="width: 100%; height: 100%" alt="">
                    </el-carousel-item>
                    <el-carousel-item >
                       <img src="./img/sd_hh6.jpg"  style="width: 100%; height: 100%" alt="">
                    </el-carousel-item>
                    <el-carousel-item >
                       <img src="./img/sd_hh7.jpg"  style="width: 100%; height: 100%" alt="">
                    </el-carousel-item>
                  </el-carousel>
              </div>
              <div class="flex1" style="margin-left: 20px">
                <div class="t_title2" style="width: 380px">黄河山东段简介</div>
                <div class="infoncent2">
                     <div class="row_d">
                      黄河从菏泽市东明县进入山东，流经菏泽、济宁、泰安、聊城、济南、德州、滨州、淄博、东营9市23个县（市、区），在东营市的河口区入海。境内河道全长628公里，流域面积1.83万平方公里。
                     </div>
                </div>
              </div>
            </div>
            <div class="diarow" style="margin-top: 15px">
              <div class="t_title2" style="width: 380px">黄河山东战略</div>
                <div class="infoncent2">
                     <div class="row_d">
                      黄河流域生态保护和高质量发展，是山东纳入国家总体布局的首个重大战略，是党中央、国务院赋予山东的重大政治责任和千载难逢的重大发展机遇。
                     </div>
                     <div class="row_d">
                       《纲要》中的“山东元素”标注了国家战略中的山东定位——在战略布局上，构建黄河流域生态保护“一带五区多点”空间布局，以黄河三角洲湿地为主的河口生态保护区为“五区”之一；构建形成黄河流域“一轴两区五极”的发展动力格局，山东半岛城市群为“五极”之一；构建多元纷呈、和谐相容的黄河文化彰显区，其中，儒家文化区主要包括下游的山东曲阜、泰安等地区，以孔孟为代表的传统文化源远流长。
                     </div>
                     <div class="row_d">
                        山东省委书记李干杰在谈到落实 “黄河战略” 时，先后两次提到突出山东比较优势。一是“要利用山东沿海独特优势，充分发挥开放平台作用,促进陆海联动、东西互济，加快打造对外开放新高地，探索服务和融入新发展格局的路径。” 二是 “在进入新发展阶段、贯彻新发展理念、构建新发展格局的大背景下，山东发展的比较优势更加凸显，三次产业可以齐头并进，需求供给可以协同发力，新老行业可以相得益彰，各类企业可以比翼齐飞，陆海潜力可以统筹开发，交通运输可以四通八达，对外开放可以提档升级，城乡区域可以均衡发展，人文沃土可以深度耕作，完全有基础、有条件实现我们的既定目标。” 推动高质量发展，国家施策下的重新定义，为山东争当黄河沿岸高质量发展“领军者”，带来积极的变革影响。
                      </div>
                </div>
            </div>
          </div>
        </div>
      </el-dialog>
  </div>
</template>

<script>
var self =  null
import Header from '@/components/resource_visual/header2';
import store from  'store';
var Qs = require('@/utils/qs.js')
export default {
  data () {
    return {
      isDialogShow: false,
      mapLevel: '1',
      iframeSrc: '',
      cityCode: '370000',
      gisQueryParams: {}
    };
  },

  components: {
    Header
  },
  watch: {
     mapLevel (val) {
        window.setTimeout(() => {
          var myVideo = document.getElementById("videoBox");
          if (val  == '0') {
            myVideo.play();
          }  else {
            myVideo.pause();
          }
        }, 500)
      
    }
  },

  computed: {},
  created () {
    self = this;
  },
  mounted () {
   
    if (this.$route.query.area_id ==  '100000') {
      this.cityCode  = '100000';
      this.mapLevel = '0';
    }
    this.initGisMap();
     window.addEventListener('message',self.gismapListener, true);
  },

  methods: {
      initGisMap () {
      // 初始化地图参数
          this.gisQueryParams =  {
              level: this.mapLevel,
              control: '370000',
              sceneid: '9',
              gis_sceneid: '0101',
              area_id: this.cityCode,
              poi_city_id: '',
              system_type: 'C40',
              login_no:  store.get('staffId') || '',
              timest:  this.$store.state.resource.searchDate
          };
          var gisQueryParams = JSON.parse(JSON.stringify(this.gisQueryParams))
          this.iframeSrc = window.gis_iframeSrc +  `/smartEyes?${Qs.stringify(gisQueryParams)}`;
          
    },
    gismapListener (e) {
      if (e.data.message == 'levelSwitch') {
         self.mapLevel = e.data.level;
         self.areaCode = e.data.area_id;
         self.gisQueryParams = Object.assign({},  self.gisQueryParams, e.data)
         self.gisQueryParams.area_name = '';
         console.log('message', e.data)
         self.cityCode = (e.data.area_id || '370000');
      }
    },
  },
  
   destroyed() { // 在组件生命周期结束的时候销毁。
    window.removeEventListener('message',this.gismapListener, true)
  }
}

</script>
<style lang='scss' scoped>
  @import url('../comtable.scss');
  .contentbody {
    height: calc(100% - 100px);
    background: url('~@/assets/images/bigScreen/bg-left.png') left no-repeat,
      url('~@/assets/images/bigScreen/bg-right.png') right no-repeat;
    background-size: auto 100%;
    margin: 30px 15px 10px 15px;
    position: relative;
    display: flex;
  }

  .leftbox,
  .rightbox {
    width: 460px;
    height: 100%;
    box-sizing: border-box;
    padding: 15px;
    padding-top: 30px;
  }

  .centerbox {
    flex: 1;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    // background: url('~@/assets/images/images_zy/中框线@2x.png') no-repeat;
    background-size: 100% 100%;
    box-sizing: border-box;
    position: relative;
    padding: 40px 20px;
    overflow: hidden;
    margin-bottom: 60px;
  }

  .t_title {
    padding-left: 10px;
    font-size: 30px;
    color: aqua;
    border-left: 4px solid aqua;
    line-height: 1.2;
    margin-left: 14px;
    margin-bottom: 2px;
    font-family: 'MFBanHei';
     background: linear-gradient(left,rgb(27, 49, 109),rgb(1, 16, 53));
}
.t_title2 {
    font-size: 20px;
     padding-left: 6px;
    color: aqua;
    border-left: 4px solid aqua;
    line-height: 1.2;
    margin-bottom: 2px;
    font-family: 'MFBanHei';
    background: linear-gradient(left,rgb(40, 69, 148),rgb(18, 36, 83));
}
.center_title {
   font-size: 24px;
   color: aqua;
   text-decoration: underline;
   position: absolute;
   top: 0px;
   left: 0px;
   cursor: pointer;
}
.infoncent {
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 10px 40px rgb(29, 55, 124);
  .row_d {
    text-indent: 36px;
    font-size: 20px;
    color: rgba(0, 255, 255, 0.89);
  }
}
.infoncentright   .row_d  {
   font-size: 18px;
   line-height: 1.5;
}
.cent_bodybox {
  position: relative;
  padding-top: 60px;
  box-sizing: border-box;
}

.dialogCon {
  padding: 0 40px;

  .dialogTitle {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-right: 30px;
    border-bottom: 1px dashed #404e77;
    padding: 5px 0;

    .left {
      display: inline-block;
      padding-right: 110px;
      font-size: 20px;
      font-family: MFBanHei;
      font-weight: 400;
      color: #02f6ff;
      background-image: url('~@/assets/images/bigScreen/fullService/Rectangle 561.png');
      background-repeat: no-repeat;
      background-position: center right;
    }

    .title-right {
      color: #218cc8;
      font-size: 12px;
      font-family: Microsoft YaHei;

      div {
        width: 38px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        display: inline-block;
        cursor: pointer;
        background-image: url('~@/assets/images/bigScreen/fullService/left-sub.png');
        background-repeat: no-repeat;
        background-size: 100% 100%;
      }
      .active {
        color: #02f6ff;
        background-image: url('~@/assets/images/bigScreen/fullService/left-subActive.png');
      }
    }
  }
}
  

  /deep/ .el-dialog {
    -webkit-transform: none;
    transform: none;
    left: 0;
    position: relative;
    z-index: 20000;
    margin: 0 auto;
    padding-bottom: 30px;
    background-image: url('~@/assets/images/bigScreen/kuang.png');
    background-size: 100% 100%;
    background-color: rgba(220, 38, 38, 0);
  }

  /deep/ .el-dialog__body {
    padding: 0px 20px;
  }

  /deep/ .el-dialog__headerbtn {
    z-index: 9999;
  }

  /deep/ .el-dialog__headerbtn .el-dialog__close {
    color: #fff;
    font-size: 24px;
    font-weight: 500;
    margin: 2px 20px 0 0;
    border: 2px solid #193987;
    border-radius: 5px;
    background: #1e1e88;
  }

  /deep/ .el-table {
    background: none !important;
    font-size: 14px !important;
  }

  /deep/.dialogTableBg .el-table th {
    background: none !important;
    background: url('~@/assets/images/bigScreen/fullService/597bcdc505fa3.png') no-repeat !important;
    background-position: center 16px !important;
    background-size: contain !important;
    text-align: center !important;
    color: #02f6ff !important;
    font-size: 15px !important;
  }

  /deep/ .el-table tr {
    background: none !important;
  }

  /deep/.el-table td {
    background: none !important;
    border: none !important;
    text-align: center !important;
    color: #ffffff;
    padding: 6px 0;
  }

  /deep/.el-table td.is-left {
    text-align: left !important;
  }

  /deep/ .el-table th.is-leaf,
  .el-table td {
    border: none !important;
    color: #ffffff;
  }

  /deep/.el-table::before {
    height: 0 !important;
  }

  /deep/.el-table th>.cell {
    display: contents !important;
  }

  /deep/.el-table .cell {
    padding: 0 6px;
    max-height: 45px;
    overflow-y: hidden;
  }

  /deep/ .dialogTableBg .el-table tr:nth-child(even) {
    background: rgba(4, 54, 108, 0.4) !important;
  }
.infoncent2 {
  border-radius: 10px;
  padding: 10px;
  .row_d {
    text-indent: 36px;
    font-size: 20px;
    color: #fff
  }
}



.menuparent {
     z-index: 999;
 }
 .menuitem {
     position: absolute;
     left: 0px;
     top: -10px;
     padding: 0;
     margin: 0;
     
 }
 .menuitem li {
     position: absolute;
     left: 30px;
     top: 50px;
     transform: rotate(-90deg)  scale(0);
     transition: all 0.3s linear;
 }
 .menuitem video {
     z-index: 10;
 }

 .menuparent:hover  .menuitem li {
     transform: rotate(0deg) scale(1);
 }
  .menuparent .wheel-button img {
     transition: all 0.3s linear;
  }
  .menuparent:hover .wheel-button img {
     transform: scale(1.1);
  }

 .menuparent_wlnl:hover .menuitem li:nth-child(1) {
    left: -100px;
    top: -70px;
  }
  .menuparent_wlnl:hover .menuitem li:nth-child(2) {
    left: 130px;
    top: -70px;
  }
   .menuparent_wlnl:hover .menuitem li:nth-child(3) {
    left: -100px;
    top: 110px;
  }
   .menuparent_wlnl:hover .menuitem li:nth-child(4) {
    left: 130px;
    top: 110px;
  }

  /deep/  .el-carousel__container{
    height:  240px !important
  }
  .bkqgbtn {
    position: absolute;
    top: 80px;
    color: #75a2f3;
    font-size: 18px;
    cursor: pointer;
  }
</style>