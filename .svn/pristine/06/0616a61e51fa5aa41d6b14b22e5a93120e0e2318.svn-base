<template>
  <div style="position: absolute;height: 92%;width: 100%;overflow: auto">
    <el-table
      :data="finishCity"
      style="width: 100%"
    >

      <el-table-column
        prop="eparchyName"
        label="地区"
      >
        <template slot-scope="scope">
          <span v-if="scope.row.areaCode ==='00'" >{{scope.row.eparchyName}}</span>
          <span v-if="scope.row.areaCode !=='00'">{{scope.row.areaName}}</span>
          <span v-if="scope.row.areaCode !=='00'&&scope.row.gridId !=='00'" >{{scope.row.gridName}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekCnt"
        label="移网新发展"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeekCnt }}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeek0t10"
        label="(0-10元】"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeek0t10}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeek10t30"
        label="(10-30元】"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeek10t30}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newweek30t50"
        label="(30-50元】"
        sortable
        width="">
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newweek30t50}}</span>
        </template>
      </el-table-column>

      <el-table-column
        prop="newWeek50t80"
        label="50-80元】"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeek50t80}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekGt80"
        label="80元以上"
        sortable
      >
        <template slot-scope="scope">
          <span class="titleSpan1" >{{scope.row.newWeekGt80}}</span>
        </template>
      </el-table-column>
      <el-table-column
        prop="newWeekRateGt30"
        label="30元以上占比"
        sortable
      >
        <!--          <template slot-scope="scope">-->
        <!--            <span class="titleSpan1" >{{scope.row.newWeekRateGt30}}%</span>-->
        <!--          </template>-->
        <template slot-scope="scope">
                      <span class="titleSpan1" v-if="scope.row.newWeekRateGt30_status == 1" style="color: #00B050 !important">
                          {{scope.row.newWeekRateGt30}}%
                      </span>
          <span class="titleSpan1" v-else-if="scope.row.newWeekRateGt30_status == 2" style="color: #C00000 !important">
                                    {{scope.row.newWeekRateGt30}}%
                                </span>
          <span class="titleSpan1" v-else>{{scope.row.newWeekRateGt30 || '-'}}%</span>
        </template>
      </el-table-column>

    </el-table>

  </div>

</template>

<script>
import store from 'store'
export default {
  props:{
    rightList:Array
  },
  name: 'cityDetail',
  data(){
    return{
      dialogTableVisible:false,
      popList:[
      ],
      title:'',
      finishCity:[
      ],
      rowData:{},
      dataType:'',
      isGrad:false,
      userInfo: []
    }
  },
  watch:{
    rightList(){
      this.finishCity = [];
      this.finishCity = this.rightList
      //alert( this.finishCity[0].newWeek0t10)
      // this.finishCity.forEach(obj => {
      //   obj.newWeek0t10 = parseFloat(obj.newWeek0t10)
      //   obj.newWeek10t30 = parseFloat(obj.newWeek10t30)
      //   obj.newweek30t50 = parseFloat(obj.newweek30t50)
      //   obj.newWeek50t80 = parseFloat(obj.newWeek50t80)
      //   obj.newWeekGt80 = parseFloat(obj.newWeekGt80)
      //   obj.newWeekRateGt30 = parseFloat(obj.newWeekRateGt30)
      //
      //   if (obj.areaCode !== '00'){
      //     this.isGrad = true
      //   }else {
      //     this.isGrad = false
      //   }
      // })
    }
  },
  mounted(){
    this.userInfo = store.get('userInfo');
  },
  methods:{
    handle(row,event,column){
      this.dialogTableVisible = true
    },
    goto(row,event,column){
      //alert(123)
    },
    clickRow(row) {
      if(row.areaName !== "全省"){
        this.$router.push(
          {
            path: '/mass/mass',
            query: {
              rowData: row
            }
          }
        )
      }
      console.log(row)
    }
  }
}
</script>

<style scoped>
/deep/ .el-table--border th {
  border-bottom: none;
}
/deep/ .el-table--group,
.el-table--border {
  border: none;
  border-right: none !important;
}
/deep/ .el-table--border th,
.el-table--border td {
  border-right: none !important;
}
/deep/ .el-table{
  background: none !important;
  font-size: 18px !important;
  font-family: Microsoft YaHei !important;
  font-weight: 400 !important;
}
/deep/.el-table th{
  background: none !important;
  background: url("../../assets/images/bigScreen/fullService/597bcdc505fa3.png") 50% 18px  !important;
  text-align: center !important;
  color: #02F6FF !important;
  font-size: 12px !important;
  background-repeat: no-repeat;
  background-size: cover;
  background-position: bottom center ;
}
/deep/ .el-table tr{
  background: none !important;
}
/deep/.el-table td{
  background: none !important;
  border: none !important;
  text-align: center !important;
  color: #FFFFFF;
  padding: 9px 0;
  border-right: 0.5px solid #0A3D75 !important;
}
/deep/ .el-table th.is-leaf, .el-table td{
  border: none !important;
  color: #FFFFFF ;
}
/deep/.el-table::before{
  height: 0 !important;
}
/deep/.el-table th > .cell{
  display: contents !important;
}
/deep/.el-dialog{
  width: 66%;
  background:transparent;
  background-image:url("../../assets/images/bigScreen/kuang.png");
  background-size: 100% 100%;
  /*background-repeat:no-repeat ;*/
  /*background-size: cover;*/
  min-height:550px
}
/deep/.el-icon-close:before{

  content: none !important;
}
/deep/.el-dialog__headerbtn .el-dialog__close{
  width: 35px;
  height: 35px;
  background-image: url("../../assets/images/bigScreen/close.png");
  background-repeat:no-repeat ;
  margin: 14px 30px;

}
/deep/.el-dialog__title{
  color: #02F6FF;
  font-size: 24px;
  width: 555px;
  font-size: 24px;
  font-family: PangMenZhengDao-3;
  font-weight: 400;
  background-image: url("../../assets/images/bigScreen/fullService/biaoti.png");
  background-position: right;
  background-repeat: no-repeat;
  margin-left: 30px;
  display: block;
}
.titleSpan1{
  color: #FDFEFF;
  font-size: 14px;
  cursor: pointer;
  font-family: 'DigifaceWide';
  src: url('../../assets/fonts/digifaw.ttf');
  display: block;
}
/deep/.el-dialog__title{
  position: relative;
  top: 18px;
}
</style>