<template>
  <div class = "chartbox" style="padding-bottom: 30px;">
    <div class="Center_L" id="stackChart" ref="myCharts"></div>
  </div>

</template>

<script>
export default {
  name: "nodepostit",
  data() {
    return {

    }
  },
  components: {

  },
  mounted() {
    this.stackChart()

  },
  methods: {
    stackChart() {
      let chart = Highcharts.chart('stackChart', {
        chart: {
          type: 'column',
          backgroundColor: 'transparent',
          options3d: {
            enabled: true,
            alpha: 10,
            beta: 0,
            viewDistance: 65,
            depth: 60
          },
          marginTop: 0,
          marginRight: 0
        },
        title: {
          text: '',
        },
        exporting: {
          enabled: false
        },
        credits: {
          enabled: false
        },
        xAxis: {
          categories: ['滨州', '菏泽', '烟台', '日照', '德州', '济南', '潍坊', '威海', '青岛', '澳博', '枣庄', '泰安', '济宁', '东营', '聊城', '林溪', '莱芜'],
          tickWidth: '0',    	//设置刻度标签宽度
          lineColor: '#fff',//设置坐标颜色
          color: '#A9C0FF',
          lineWidth: 0,   //设置坐标宽度
          gridLineColor: 'transparent',
          labels: {
            style: {
              color: '#A9C0FF',
              fontSize: '18px'
            }
          },
        },
        yAxis: {
          allowDecimals: false,
          min: 0,
          lineColor: 'transparent',
          gridLineColor: 'transparent',
          lineWidth: 0,
          title: {
            text: ''
          },
          labels: {
            enabled: false,
          },

        },
        tooltip: {
          shared: true,
          // formatter: function () {
          //   return '<b>' + this.x + '</b><br/>' +
          //       this.series.name + ': ' + this.y + '<br/>' +
          //       'Total: ' + this.point.stackTotal;
          // }
          // headerFormat: '<b>{point.key}</b><br>',
          // pointFormat: '<span style="color:{series.color}">\u25CF</span> {series.name}: 当前数量：{point.y} 总量： {point.stackTotal}'
        },
        plotOptions: {
          column: {
            stacking: 'normal',
            depth: 10
          },
          line: {
            dataLabels: {
              // 开启数据标签
              enabled: true,
              formatter: function () {
                return this.point.y + '%';
              },
              style: {
                fontSize: '14px',

              }
            },
            // 关闭鼠标跟踪，对应的提示框、点击事件会失效
            // enableMouseTracking: false
          }

        },
        legend: {
          itemStyle: {
            fontSize: '14px',
            color: '#A9C0FF',
          }
        },
        series: [
          {
            name: '升级包量（含副卡）',
            data: [2, 2, 4, 2, 5, 7, 7, 5, 3, 4, 7, 2, 5, 3, 4, 2, 2],
            stack: 'female',
            color: {
              linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 }, //横向渐变效果 如果将x2和y2值交换将会变成纵向渐变效果
              stops: [
                      [0, Highcharts.Color('#db8914').setOpacity(1).get('rgba')],
                      [1, 'rgba(219,137,20, 0.6)']
              ]  
            }
          },
          {
            name: '迁转量（含副卡）',
            data: [20, 10, 20, 20, 30, 20, 30, 30, 30, 20, 17, 20, 20, 30, 20, 30, 20],
            stack: 'female',
            color: {
              linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 }, //横向渐变效果 如果将x2和y2值交换将会变成纵向渐变效果
              stops: [
                      [0, Highcharts.Color('#1EE9B5').setOpacity(1).get('rgba')],
                      [1, 'rgba(30,233,181, 0.4)']
              ]  
            }
            
          },
          {
            name: '5G套餐新发展量（含副卡）',
            data: [3, 3, 4, 4, 3, 3, 4, 4, 2, 5, 7, 2, 5, 3, 4, 1, 2],
            stack: 'female',
            color: {
              linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 }, //横向渐变效果 如果将x2和y2值交换将会变成纵向渐变效果
              stops: [
                  [0, Highcharts.Color('#1e74dc').setOpacity(1).get('rgba')],
                  [1, 'rgba(20,78,149, 0.4)']
              ]  
            }
          },
          {
            name: '5G套餐新发展占比',
            data: [52, 44, 42, 42, 40, 44, 35, 37, 38, 32, 40, 25, 17, 16, 16, 15, 14],
            stack: 'column',
            type: 'line',
            color: '#66cffc',
            zIndex: '100',
            marker: {
              radius: 6,  //曲线点半径，默认是4
              symbol: 'circle' //曲线点类型："circle", "square", "diamond", "triangle","triangle-down"，默认是"circle"
            }
          }
        ]
      });
   
    }

  },



}
</script>

<style scoped>
#stackChart, .chartbox {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
}
</style>