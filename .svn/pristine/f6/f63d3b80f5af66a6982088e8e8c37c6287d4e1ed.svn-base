<template>
    <div>
        <div id="CrossChart1" style="width:235px;height:230px"></div>
    </div>
</template>
<script>
import * as echarts from 'echarts';
export default {
    methods: {
        CrossChart1() {
            var chartDom = document.getElementById('CrossChart1');
            var myChart = echarts.init(chartDom);
            var option;
            var data = [{
                name: '安徽',
                百分比: 40
            }, {
                name: '北京',
                百分比: 20
            },{
                name:'福建',
                百分比:30
            },{
                name:'甘肃',
                百分比:20
            },{
                name:'广东',
                百分比:50
            },{
                name:'贵州',
                百分比:40
            },{
                name: '海南',
                百分比: 30
            }, {
                name: '河北',
                百分比: 20
            },{
                name:'黑龙江',
                百分比:50
            },{
                name:'湖北',
                百分比:'40'
            }];
            var bgColor = ["#1089E7", "#F57474", "#56D0E3", "#F8B448", "#8B78F6", '#FF7F50'];

            var dataSource = data;
            var dataName = [];
            var dataValue = [];
            var dataNum = [];
            for (var key in dataSource) {
                dataName.push(dataSource[key]["name"]);
                dataValue.push(dataSource[key]["百分比"]);
                dataNum.push(100);
            }
            var myColor = bgColor;

            option = {
                // backgroundColor:'#031136',
                //图标位置
                grid: {
                    top: "0",
                    left: "28%",
                    bottom: "0",
                    right: "10%"
                },
                xAxis: {
                    max: 50,
                    show: false,
                    type: 'value'
                },
                yAxis: [{
                        type: 'category',
                        show: true,
                        data: dataName,
                        inverse: true,
                        axisLine: {
                            show: false
                        },
                        splitLine: {
                            show: false
                        },
                        axisTick: {
                            show: false
                        },
                        axisLabel: {
                            color: '#fff',
                        }
                    },
                    {
                        type: 'category',
                        show: true,
                        inverse: true,
                        axisTick: 'none',
                        axisLine: 'none',
                        data: dataValue,
                        axisLabel: {
                            textStyle: {
                                fontSize: 12,
                                color: "#fff"
                            },
                            //formatter: function (value) {
                            //    return value + '%';
                            //}
                        },
                    }
                ],
                series: [{
                        name: "地区",
                        type: "bar",
                        yAxisIndex: 0,
                        data: dataValue,
                        zlevel: 1,
                        barWidth: 6,
                        itemStyle: {
                            normal: {
                                barBorderRadius: 10,
                                color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                    offset: 0,
                                    //color: 'rgb(57,89,255,1)'
                                    color: '#385FFC'
                                }, {
                                    offset: 1,
                                    //color: 'rgb(46,200,207,1)'
                                    color: '#2FBED3'
                                }]),
                            },
                        },
                    },
                    {
                        name: "背景",
                        type: "bar",
                        yAxisIndex: 1,
                        barGap: '-100%',
                        data: dataNum,
                        barWidth: 6,
                        itemStyle: {
                            normal: {
                                color: 'rgba(24,31,68,1)',
                                barBorderRadius: 30,
                            }
                        },
                    }
                ]
            };
            option && myChart.setOption(option);
        }
    },
    mounted(){
        this.CrossChart1();
    }
}
</script>