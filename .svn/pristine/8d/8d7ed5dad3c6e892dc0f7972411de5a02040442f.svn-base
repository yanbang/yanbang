<template>
  <div class="chartBack">
    <div style="margin-left: 20px">
      <!-- <div style="height: 10px; width: 10px; display: block"></div> -->
      <span class="chartTitle">{{ title }}</span>
      <span v-if="title === '金融融合'" style="float: right; margin-right: 50px" @click="fiveGDialogShow = true">更多<img width="9px" height="13px" style="margin-left: 10px" src="~@/assets/images/bigScreen/resource/dleft.png" /></span>
      <!--      <img src="../../../../assets/images"/>-->
    </div>

    <div style="clear: both"></div>
    <el-row :gutter="20" style="margin-top: 15px">
      <el-col :span="8" style="text-align: center" class="progeressC">
        <!--        <div :id="'myChart1'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.dayNewPctPct) ||0" :width="80" :color="formData.dayNewPctPct >= 100 ? '#E3B90C' : '#25F1EA'"></el-progress>
        <div style="display: block; text-align: center">
          <span style="display: block" class="titleSpan1">当日完成率</span>
          <span class="titleSpan2">当日发展</span><span class="titleSpan3">{{ formData.dayNew || '-'}}</span><span class="titleSpan2">户</span>
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart2'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.monNewPctPct)||0" :width="80" :color="formData.monNewPctPct >= 100 ? '#E3B90C' : '#25F1EA'"></el-progress>
        <div style="display: block; text-align: center">
          <span style="display: block" class="titleSpan1">月完成率</span>
          <div style="display: block">
            <span class="titleSpan2">月累发展</span><span class="titleSpan3">{{ formData.monNew || '-'}}</span><span class="titleSpan2">户</span>
          </div>
          <span class="titleSpan4">环比</span><span class="titleSpan4" style="color: #ffff33">{{ formData.monHbPctPct || '-'}}%</span><span class="titleSpan4" style="margin-left: 10px">同比</span><span class="titleSpan4" style="color: #66ff00">{{ formData.monTbPctPct || '-'}}%</span>
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart3'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.qtNewPctPct)||0" :width="80" :color="formData.qtNewPctPct >= 100 ? '#E3B90C' : '#25F1EA'"></el-progress>
        <div style="display: block; text-align: center">
          <span style="display: block" class="titleSpan1">季度完成率</span>
          <div style="display: block">
            <span class="titleSpan2">年累发展</span><span class="titleSpan3">{{ formData.yearNew || '-'}}</span><span class="titleSpan2">户</span>
          </div>
          <span class="titleSpan4">环比</span><span class="titleSpan4" style="color: #ffff33">{{ formData.yearHbPctPct || '-' }}%</span><span class="titleSpan4" style="margin-left: 10px">同比</span><span class="titleSpan4" style="color: #66ff00">{{ formData.yearTbPctPct || '-'}}%</span>
        </div>
      </el-col>
    </el-row>
  </div>
</template>

<script>
import echarts from 'echarts'
export default {
  name: 'chartsRight',
  props: {
    argsData: Object,
    title: String,
    form: {
      type: Object,
      default: function () {
        return {}
      },
    },
  },
  data() {
    return {
      //日
      dateData: {},
      //月
      mouthData: {},
      //季度
      quarterData: {},
      formData: {
        dayNewPctPct: 0,
        dayNew: 0,
        monNewPctPct: 0,
        monNew: 0,
        monTbPctPct: 0,
        monHbPctPct: 0,
        qtNewPctPct: 0,
        yearNew: 0,
      },
    }
  },
  watch: {
    form(val) {
      if (val) {
        this.formData = this.form
      }
    },
  },
  created() { },
  mounted() {
    const self = this
    //
    // var myChart = echarts.init(document.getElementById('myChart1' + this.title))
    // this.dateData = this.setOpetion(this.title,this.argsData,'myChart1' + this.title)
    // myChart.setOption(this.dateData)
    // var myChart2 = echarts.init(document.getElementById('myChart2' + this.title))
    // this.mouthData = this.setOpetion(this.title,this.argsData,'myChart2' + this.title)
    // myChart2.setOption(this.mouthData)
    // var myChart3 = echarts.init(document.getElementById('myChart3' + this.title))
    // this.quarterData = this.setOpetion(this.title,this.argsData,'myChart3' + this.title)
    // myChart3.setOption(this.quarterData)
  },
  methods: {
    setOpetion(title, date, idName) {
      var chartOption
      chartOption = {
        tooltip: {
          trigger: 'item',
        },
        legend: {
          x: 'center',
          y: 'bottom',
          data: ['已使用'],
          selectedMode: false, //取消图标点击事件
          textStyle: {
            color: '#444444',
            fontWeight: 'bold',
          },
          itemWidth: 9,
          itemHeight: 9,
          borderRadius: 9,
          formatter: '',
        },
        graphic: [
          //为环形图中间添加文字
          {
            type: 'text',
            left: 'center',
            top: '45%',
            style: {
              text: '中间字', //wenzi
              textAlign: 'center',
              fontSize: '14',
              fontWeight: 'bold',
            },
          },
        ],
        series: [
          {
            name: title,
            type: 'pie',
            radius: ['83%', '90%'],
            avoidLabelOverlap: false,
            hoverAnimation: false,
            label: {
              show: false,
              position: 'center',
            },
            emphasis: {
              label: {
                show: false,
                fontSize: '12',
                fontWeight: 'bold',
              },
            },
            labelLine: {
              show: false,
            },
            data: [
              {
                value: 200,
                name: 'weiwancheng',
                itemStyle: {
                  color: '#ffffff',
                },
              },
              {
                value: 200,
                name: 'wancheng',
                itemStyle: {
                  color: '#fff000',
                },
              },
            ],
          },
        ],
      }
      return chartOption
    },
  },
}
</script>

<style scoped lang="scss">
.chartTitle {
  /* margin-top: 10px; */
  margin-left: 10px;
  font-family: 'MFBanHei';
  color: #02f6ff;
  font-size: 20px;
}
.chartSize {
  width: 100px;
  height: 100px;
  display: block;
  margin: auto;
}

.spanSize {
  width: 100px;
}

.titleSpan1 {
  color: #feffff;
  font-size: 15px;
}

.titleSpan2 {
  color: #02f6ff;
  font-size: 12px;
}

.titleSpan3 {
  color: #02f6ff;
  font-size: 12px;
  font-family: 'DigifaceWide';
  src: url('../../../assets/fonts/digifaw.ttf');
}
.titleSpan4 {
  color: #02f6ff;
  font-size: 9px;
  font-family: 'MicrosoftYaHei';
}

/deep/ .el-progress-circle__track {
  stroke: #1d2088;
}

/deep/ .el-progress__text {
  color: #ffffff;
  font-size: 18px;
}
</style>