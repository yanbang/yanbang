
<template>
  <div class="chartBack" style="padding: 0 15px ">

    <el-row :gutter="20">
      <div class='titles' style='margin-bottom: 0.5rem'>
        <div class='titlesName'>{{title}}</div>
      </div>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart1'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.dayNewPctPct)" :width="80" :color="formData.dayNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">当日完成率</span>
          <span class="titleSpan2">当日发展</span><span class="titleSpan3">{{formData.dayNew}}</span><span class="titleSpan2">户</span>
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart2'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.monNewPctPct)" :width="80" :color="formData.monNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">月完成率</span>
          <div style="display: block;">
            <span class="titleSpan2">月累发展</span><span class="titleSpan3">{{formData.monNew}}</span><span class="titleSpan2">户</span>
          </div>
          <!--          <span class="titleSpan2">环比</span><span style="color: #ffff33">{{formData.monHbPctPct}}%</span><span class="titleSpan2">同比</span><span style="color: #66ff00">{{formData.monTbPctPct}}%</span>-->
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart3'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.qtNewPctPct)" :width="80" :color="formData.qtNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">季度完成率</span>
          <div style="display: block;">
            <span class="titleSpan2">年累发展</span><span class="titleSpan3">{{formData.yearNew}}</span><span class="titleSpan2">户</span>
          </div>
          <!--          <span class="titleSpan2">环比</span><span style="color: #ffff33">{{formData.monHbPctPct}}%</span><span class="titleSpan2">同比</span><span style="color: #66ff00">{{formData.monHbPctPct}}%</span>-->
        </div>
      </el-col>
    </el-row>
    <el-row :gutter='20'>
      <div class='titlesName'>宽带流失
        <img src="../../assets/images/bigScreen/fullService/Rectangle@2x.png" style="width:20%;height:40%" />
      </div>
      <div class="rightTable">
        <div class="tHead">
          <div class="wid19"></div>
          <div>当日流失</div>
          <div>月累流失</div>
          <div>年累流失</div>
        </div>
        <div class="tBody">
          <div class="td wid19">
            <div>新发展</div>
            <div>拍照用户</div>
          </div>
          <div class="td bg" v-for="(item, idnex) in ywxrxc" :key="idnex">
            <div v-for="(sitem, sindex) in item" :key="sindex">{{sitem}}</div>
          </div>
        </div>
      </div>
    </el-row>
    <el-row :gutter='20' style="margin-top: 15px">
      <div class='titlesName'>宽带存量
        <img src="../../assets/images/bigScreen/fullService/Rectangle@2x.png" style="width:20%;height:40%" />
      </div>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart1'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.dayNewPctPct)" :width="80" :color="formData.dayNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">包年到期续费用户</span>
          <span class="titleSpan3">{{formData.dayNew}}</span><span class="titleSpan2">户</span>
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart2'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.monNewPctPct)" :width="80" :color="formData.monNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">300M以上用户</span>
          <div style="display: block;">
            <span class="titleSpan3">{{formData.monNew}}</span><span class="titleSpan2">户</span>
          </div>
          <!--          <span class="titleSpan2">环比</span><span style="color: #ffff33">{{formData.monHbPctPct}}%</span><span class="titleSpan2">同比</span><span style="color: #66ff00">{{formData.monTbPctPct}}%</span>-->
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center">
        <!--        <div :id="'myChart3'+title" class="chartSize"></div>-->
        <el-progress type="circle" :percentage="parseInt(formData.qtNewPctPct)" :width="80" :color="formData.qtNewPctPct>=100?'#E3B90C':'#25F1EA'"></el-progress>
        <div style="display: block;text-align: center;">
          <span style="display: block;" class="titleSpan1">融合用户</span>
          <div style="display: block;">
            <span class="titleSpan3">{{formData.yearNew}}</span><span class="titleSpan2">户</span>
          </div>
          <!--          <span class="titleSpan2">环比</span><span style="color: #ffff33">{{formData.monHbPctPct}}%</span><span class="titleSpan2">同比</span><span style="color: #66ff00">{{formData.monHbPctPct}}%</span>-->
        </div>
      </el-col>
    </el-row>

    <el-row :gutter='20' style="margin-top: 15px">
      <div class='titlesName'>IPTV
        <img src="../../assets/images/bigScreen/fullService/Rectangle@2x.png" style="width:20%;height:40%" />
      </div>
      <el-col :span="8" style="text-align: center" class="progeressC">
        <div style="display: block;text-align: center;">
          <span class="titleSpan5">{{formData.Monthdevel}}</span><span class="titleSpan4">户</span>
          <span style="display: block;" class="titleSpan2">月累发展量</span>
        </div>
      </el-col>
      <el-col :span="8" style="text-align: center" class="progeressC">

        <div style="display: block;text-align: center;">
          <div style="display: block;">
            <span class="titleSpan5">{{formData.noneUser}}</span><span class="titleSpan4">户</span>
          </div>
        </div>
        <span style="display: block;" class="titleSpan2">月累流失量</span>
      </el-col>
      <el-col :span="8" style="text-align: center" class="progeressC">
        <div style="display: block;text-align: center;">
          <div style="display: block;">
            <span class="titleSpan5">{{formData.badUser}}</span><span class="titleSpan4">户</span>
          </div>
          <span style="display: block;" class="titleSpan2">存量</span>
        </div>
      </el-col>
    </el-row>
  </div>

</template>

<script>
export default {
  name: "broadband",
  props: {
    // argsData:Object,
    // title:String,
    // form: {
    //   type: Object,
    //   default: function() {
    //     return {}
    //   }
    // }
  },
  data() {
    return {
      title: '宽带发展',
      //日
      dateData: {},
      //月
      mouthData: {},
      //季度
      quarterData: {},
      ywxrxc: [['123', '123'], ['123', '123'], ['123', '123']],
      dialogTableRight: [],
      formData: {
        dayNewPctPct: 0,
        dayNew: 0,
        monNewPctPct: 0,
        monNew: 0,
        monTbPctPct: 0,
        monHbPctPct: 0,
        qtNewPctPct: 0,
        yearNew: 0,
        Monthdevel: 15115,
        badUser: 15615,
        noneUser: 45154
      }
    }
  },
  watch: {
    form(val) {
      if (val && val.dayNewPctPct) {
        this.formData = this.form
      }
    }
  },
  created() {

  },
  mounted() {
    const self = this
    //
    // var myChart = echarts.init(document.getElementById('myChart1' + this.title))
    // this.dateData = this.setOpetion(this.title,this.argsData,'myChart1' + this.title)
    // myChart.setOption(this.dateData)
    // var myChart2 = echarts.init(document.getElementById('myChart2' + this.title))
    // this.mouthData = this.setOpetion(this.title,this.argsData,'myChart2' + this.title)
    // myChart2.setOption(this.mouthData)
    // var myChart3 = echarts.init(document.getElementById('myChart3' + this.title))
    // this.quarterData = this.setOpetion(this.title,this.argsData,'myChart3' + this.title)
    // myChart3.setOption(this.quarterData)

  },
  methods: {
    setOpetion(title, date, idName) {
      var chartOption;
      chartOption = {
        tooltip: {
          trigger: 'item',
        },
        legend: {
          x: 'center',
          y: 'bottom',
          data: ['已使用'],
          selectedMode: false, //取消图标点击事件
          textStyle: {
            color: '#444444',
            fontWeight: 'bold'
          },
          itemWidth: 9,
          itemHeight: 9,
          borderRadius: 9,
          formatter: ''

        },
        graphic: [ //为环形图中间添加文字
          {
            type: "text",
            left: "center",
            top: "45%",
            style: {
              text: '中间字', //wenzi
              textAlign: "center",
              fontSize: '14',
              fontWeight: 'bold'
            },
          },
        ],
        series: [
          {
            name: title,
            type: 'pie',
            radius: ['83%', '90%'],
            avoidLabelOverlap: false,
            hoverAnimation: false,
            label: {
              show: false,
              position: 'center'
            },
            emphasis: {
              label: {
                show: false,
                fontSize: '12',
                fontWeight: 'bold'
              }
            },
            labelLine: {
              show: false
            },
            data: [
              {
                value: 200,
                name: 'weiwancheng',
                itemStyle: {
                  color: '#ffffff'
                }
              },
              {
                value: 200,
                name: 'wancheng',
                itemStyle: {
                  color: '#fff000'
                }
              },
            ]
          }
        ]
      };
      return chartOption
    },
  }
}
</script>

<style lang="less" scoped>
.titles {
  height: 3.6rem;
  margin-bottom: 10px;
  background-image: url('../../assets/images/bigScreen/fullService/title.png');
  background-repeat: no-repeat;
  background-size: contain;
}
.titlesName {
  line-height: 3.6rem;
  font-size: 22px;
  margin-left: 20px;
  font-family: 'MFBanHei';
  color: #02f6ff;
}
.progeressC {
  width: 27%;
  padding: 6px;
  margin-left: 20px;
  background-image: url('../../assets/images/bigScreen/fullService/botImg.png');
  background-repeat: no-repeat;
  background-size: 100% 100%;
}
.rightTable {
  width: 100%;
  font-size: 10px;
  font-family: Microsoft YaHei;
  color: #02f6ff;
  margin-left: -10px;
  .tHead,
  .tBody {
    display: flex;
    .wid19 {
      width: 18% !important;
      text-align: left;
    }
  }
  .tHead {
    line-height: 30px;
    div {
      width: 27%;
      text-align: center;
      background-image: url('~@/assets/images/bigScreen/fullService/597bcdc505fa3.png');
      background-repeat: no-repeat;
      background-size: 100% 100%;
      background-position: center 12px;
    }
    .wid19 {
      background-image: none;
    }
  }
  .tBody {
    .td {
      width: 27%;
      text-align: center;
      div {
        padding: 10px 0;
        line-height: 10px;
      }
    }
    .bg {
      background-image: url('~@/assets/images/bigScreen/fullService/Shape 1387.png');
      background-repeat: no-repeat;
      background-position: center left;
      div {
        font-size: 16px;
        font-family: DigifaceWide;
        color: #ffffff;
      }
    }
  }
}

.titleSpan1 {
  color: #feffff;
  font-size: 15px;
}
.titleSpan4 {
  color: #fff;
  font-size: 12px;
}
.titleSpan2 {
  color: #02f6ff;
  font-size: 12px;
}

.titleSpan3 {
  color: #02f6ff;
  font-size: 14px;
  font-family: 'DigifaceWide';
  src: url('../../assets/fonts/digifaw.ttf');
}
.titleSpan5 {
  color: #e3b90c;
  font-size: 16px;
  font-family: 'DigifaceWide';
  src: url('../../assets/fonts/digifaw.ttf');
}

/deep/ .el-progress-circle__track {
  stroke: #1d2088;
}

/deep/ .el-progress__text {
  color: #ffffff;
  font-size: 18px;
}
</style>